<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sarthak Sidhant</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- <div class="intro-text">Hello! Click on the <span><span class="text-sun">sun</span>/<span class="text-moon">moon</span></span>. Go ahead, why don't you?</span>
    </div> -->
    <div class="introgo"> 
      <span class="name introv">Sarthak Sidhant</span> 
    </div>
     <!-- contenteditable="true" -->
<div class="blody">
    <div class="container">
      <input type="checkbox" id="theme-toggle">
      <label for="theme-toggle"></label>
    </div>
    
    <div>
    <span class="name" >Sarthak Sidhant</span>
    </div>
    
    <p class="sono bio smaller">17, He/Him, <img class = "flag" src="india.svg" alt="Flag of India">
      <p class ="sono smaller istime">It is currently <span id="currentTime" ></span> for me.</p>
      <h2 class="jobdesc"> Manager <span class= "at">@</span> <a href="https://sarthaksidhant.com/sidhant-hyperspace"><span>Sidhant Hyperspace&trade;</span></a></h2>
    </p>  
</div>






<script>
  //    // Detect user's initial preference
    const prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;

// Set the theme attribute based on the user's preference
document.body.setAttribute('theme', prefersDarkMode ? 'dark' : 'light');

// Modify the checkbox based on initial preference
document.getElementById('theme-toggle').checked = prefersDarkMode; 

// Toggle functionality 
document.getElementById('theme-toggle').addEventListener('click', (e) => {
    // Get the current theme (important)
    const currentTheme = document.body.getAttribute('theme');

    // Update the theme based on the current theme, not the checkbox state
    document.body.setAttribute('theme', currentTheme === 'light' ? 'dark' : 'light'); 
});




//display of local time functionality
function displayLocalTime() {
  const ISTOffset = 330; // IST is +5:30 from UTC
  const date = new Date();
  const utcTime = date.getTime() + (date.getTimezoneOffset() * 60000); // Convert to UTC
  const ISTTime = new Date(utcTime + ISTOffset * 60000); // Adjust for IST

  const formattedTime = ISTTime.toLocaleTimeString([], {
    hour: '2-digit', 
    minute: '2-digit',
    second: '2-digit',
    hour12: true // Add this for AM/PM
  });
   
// Update both the main display and the data-seconds attribute
  document.getElementById("currentTime").textContent = formattedTime;  

} 

// Initial display
displayLocalTime();

// Update the time every second
setInterval(displayLocalTime, 1000); 

</script>



</body>
</html>